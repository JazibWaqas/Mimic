
============================================================
MIMIC PIPELINE VALIDATION
============================================================

This script validates core functionality only.
Quality assessment comes AFTER validation passes.


============================================================
TEST 1: MOCK MODE VALIDATION
============================================================
Reference: refrence_vid.mp4
Clip 1: clip.mp4
Clip 2: clip1.mp4
[BRAIN] Mock mode: ENABLED

[1/5] Validating inputs...

[2/5] Analyzing reference video structure with Gemini AI...

============================================================
[BRAIN] ANALYZING REFERENCE VIDEO: refrence_vid.mp4
============================================================

[ERROR] Gemini reference analysis failed: Gemini API key not found. Either pass api_key parameter or set GEMINI_API_KEY environment variable.
    FALLING BACK to linear 2-second segments. Results will be generic.
[WARN] Using fallback mode: Linear 2-second segments

[3/5] Analyzing user clips with Gemini AI...
  Standardizing clip 1/2...
  [OK] Standardized: clip_001.mp4
  Standardizing clip 2/2...
  [OK] Standardized: clip_002.mp4

============================================================
[BRAIN] ANALYZING USER CLIPS (2 total)
[BRAIN] Mode: COMPREHENSIVE (energy + best moments)
============================================================

[ERROR] Gemini clip analysis failed: Gemini API key not found. Either pass api_key parameter or set GEMINI_API_KEY environment variable.
    FALLING BACK to default energy levels. Edit quality will be reduced.

[4/5] Creating edit sequence...

============================================================
[EDITOR] MATCHING CLIPS TO BLUEPRINT
============================================================
  Segments: 16
  Clips: 2
  Clips with pre-computed best moments: 0/2

Segment 1: 0.00s-2.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 0.00s - 2.00s (2.00s)
    [OK] clip_001.mp4 [0.00s-2.00s] ΓåÆ timeline [0.00s-2.00s]
Segment 2: 2.00s-4.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_002.mp4 (Medium)
    [SEQUENTIAL] Using 0.00s - 2.00s (2.00s)
    [OK] clip_002.mp4 [0.00s-2.00s] ΓåÆ timeline [2.00s-4.00s]
Segment 3: 4.00s-6.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 2.00s - 4.00s (2.00s)
    [OK] clip_001.mp4 [2.00s-4.00s] ΓåÆ timeline [4.00s-6.00s]
Segment 4: 6.00s-8.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_002.mp4 (Medium)
    [SEQUENTIAL] Using 2.00s - 4.00s (2.00s)
    [OK] clip_002.mp4 [2.00s-4.00s] ΓåÆ timeline [6.00s-8.00s]
Segment 5: 8.00s-10.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 4.00s - 4.83s (0.83s)
    [OK] clip_001.mp4 [4.00s-4.80s] ΓåÆ timeline [8.00s-8.80s]
    [WARN] Need 1.20s more
    [SEQUENTIAL] Using 4.00s - 5.20s (1.20s)
    [OK] clip_002.mp4 [4.00s-5.20s] ΓåÆ timeline [8.80s-10.00s]
Segment 6: 10.00s-12.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 0.00s - 2.00s (2.00s)
    [OK] clip_001.mp4 [0.00s-2.00s] ΓåÆ timeline [10.00s-12.00s]
Segment 7: 12.00s-14.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 2.00s - 4.00s (2.00s)
    [OK] clip_001.mp4 [2.00s-4.00s] ΓåÆ timeline [12.00s-14.00s]
Segment 8: 14.00s-16.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_002.mp4 (Medium)
    [SEQUENTIAL] Using 5.20s - 7.20s (2.00s)
    [OK] clip_002.mp4 [5.20s-7.20s] ΓåÆ timeline [14.00s-16.00s]
Segment 9: 16.00s-18.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 4.00s - 4.83s (0.83s)
    [OK] clip_001.mp4 [4.00s-4.80s] ΓåÆ timeline [16.00s-16.80s]
    [WARN] Need 1.20s more
    [SEQUENTIAL] Using 7.20s - 8.40s (1.20s)
    [OK] clip_002.mp4 [7.20s-8.40s] ΓåÆ timeline [16.80s-18.00s]
Segment 10: 18.00s-20.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 0.00s - 2.00s (2.00s)
    [OK] clip_001.mp4 [0.00s-2.00s] ΓåÆ timeline [18.00s-20.00s]
Segment 11: 20.00s-22.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 2.00s - 4.00s (2.00s)
    [OK] clip_001.mp4 [2.00s-4.00s] ΓåÆ timeline [20.00s-22.00s]
Segment 12: 22.00s-24.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_002.mp4 (Medium)
    [SEQUENTIAL] Using 8.40s - 10.40s (2.00s)
    [OK] clip_002.mp4 [8.40s-10.40s] ΓåÆ timeline [22.00s-24.00s]
Segment 13: 24.00s-26.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 4.00s - 4.83s (0.83s)
    [OK] clip_001.mp4 [4.00s-4.80s] ΓåÆ timeline [24.00s-24.80s]
    [WARN] Need 1.20s more
    [SEQUENTIAL] Using 10.40s - 11.60s (1.20s)
    [OK] clip_002.mp4 [10.40s-11.60s] ΓåÆ timeline [24.80s-26.00s]
Segment 14: 26.00s-28.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 0.00s - 2.00s (2.00s)
    [OK] clip_001.mp4 [0.00s-2.00s] ΓåÆ timeline [26.00s-28.00s]
Segment 15: 28.00s-30.00s (2.00s, Medium)
  ≡ƒôÄ Selected: clip_001.mp4 (Medium)
    [SEQUENTIAL] Using 2.00s - 4.00s (2.00s)
    [OK] clip_001.mp4 [2.00s-4.00s] ΓåÆ timeline [28.00s-30.00s]
Segment 16: 30.00s-31.95s (1.95s, Medium)
  ≡ƒôÄ Selected: clip_002.mp4 (Medium)
    [SEQUENTIAL] Using 11.60s - 13.55s (1.95s)
    [OK] clip_002.mp4 [11.60s-13.50s] ΓåÆ timeline [30.00s-31.90s]
    [WARN] Need 0.05s more
    [SEQUENTIAL] Using 4.00s - 4.05s (0.05s)
    [OK] clip_001.mp4 [4.00s-4.00s] ΓåÆ timeline [31.90s-31.90s]
    [WARN] Need 0.05s more
    [SEQUENTIAL] Using 13.55s - 13.60s (0.05s)
    [OK] clip_002.mp4 [13.50s-13.60s] ΓåÆ timeline [31.90s-32.00s]

[OK] Matching complete: 21 edit decisions


============================================================
[ERROR] PIPELINE FAILED
============================================================
Error: EDL total duration (32.00s) doesn't match blueprint (31.95s)
============================================================

Γ¥î FAIL: Pipeline returned success=False
   Error: EDL total duration (32.00s) doesn't match blueprint (31.95s)
[BRAIN] Mock mode: DISABLED

============================================================
TEST 2: REAL API MODE (SKIPPED - use mock mode for now)
============================================================
ΓÜá∩╕Å  To test real API mode, uncomment the code in this function
ΓÜá∩╕Å  This will use Gemini API quota

============================================================
VALIDATION SUMMARY
============================================================
Γ¥î FAIL: Mock Mode
Γ£à PASS: Real API Mode

Γ¥î VALIDATION FAILED

Fix failing tests before proceeding
